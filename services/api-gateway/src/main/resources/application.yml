server:
  port: ${PORT:8080}
  forward-headers-strategy: framework

springdoc:
  swagger-ui:
    path: /docs
    url: /openapi.yaml

app:
  firestore:
    enabled: ${APP_FIRESTORE_ENABLED:${FIRESTORE_ENABLED:true}}
    project-id: ${APP_FIRESTORE_PROJECT_ID:${GOOGLE_CLOUD_PROJECT:}}
    emulator-host: ${APP_FIRESTORE_EMULATOR_HOST:${FIRESTORE_EMULATOR_HOST:}}
  idempotency:
    collection: ${IDP_COLLECTION:idempotency_keys}
    ttl-seconds: ${IDP_TTL_SECONDS:86400}
    store: ${APP_IDEMPOTENCY_STORE:${IDP_STORE:memory}}
  webhooks:
    collection: ${APP_WEBHOOKS_COLLECTION:${WEBHOOKS_COLLECTION:webhooks}}
    list-limit: ${APP_WEBHOOKS_LIST_LIMIT:${WEBHOOKS_LIST_LIMIT:200}}
  deliveries:
    collection: ${APP_DELIVERIES_COLLECTION:${DELIVERIES_COLLECTION:deliveries}}
    list-limit: ${APP_DELIVERIES_LIST_LIMIT:${DELIVERIES_LIST_LIMIT:200}}
    max-attempts: ${APP_DELIVERIES_MAX_ATTEMPTS:${DELIVERIES_MAX_ATTEMPTS:5}}
    initial-backoff-ms: ${APP_DELIVERIES_INITIAL_BACKOFF_MS:${DELIVERIES_INITIAL_BACKOFF_MS:500}}
    max-backoff-ms: ${APP_DELIVERIES_MAX_BACKOFF_MS:${DELIVERIES_MAX_BACKOFF_MS:30000}}
    timeout-ms: ${APP_DELIVERIES_TIMEOUT_MS:${DELIVERIES_TIMEOUT_MS:5000}}
    retry-on-5xx: ${APP_DELIVERIES_RETRY_ON_5XX:${DELIVERIES_RETRY_ON_5XX:true}}
    retry-on-429: ${APP_DELIVERIES_RETRY_ON_429:${DELIVERIES_RETRY_ON_429:true}}
  docs:
    redirect-enabled: ${DOCS_REDIRECT_ENABLED:false}

management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      probes:
        enabled: true
  health:
    probes:
      enabled: true
